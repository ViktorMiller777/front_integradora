<div *ngIf="loading" class="loading">
  <h1>Cargando dispositivos...</h1>
  <p>Esto puede tardar segun los dispositivos que tengas, la paciencia es una virtud</p>
  <nb-spinner *ngIf="loading"></nb-spinner>
</div>
<div class="box-mis-dispositivos" *ngIf="!loading">
    <nb-card class="box">
        <nb-card *ngFor="let item of dispositivo">
            <nb-card-header style="display: flex; justify-content: space-between; align-items: center;">
              <h4> Dispositivo:  {{item.name}}</h4>
              <h6 style="margin-right: 2rem;">S/N: {{item.DispositiveID}}</h6>
            </nb-card-header>
            <nb-card-body>
                <table nbTable>
                    <tbody>
                      <tr>
                        <td *ngFor="let sensor of item.Sensors">
                          <div *ngIf="sensor.sensorType!='Pantalla'">
                            <button class="sbtn" nbButton status="success"  (click)="dispositivoClick(item.DispositiveID, sensor.sensorID)">{{ sensor.sensorType }} : {{sensor.sensorID}}</button>
                          </div>
                       </td>
                      </tr>
                      <tr>
                        <td *ngFor="let sensor of item.Sensors">
                          <div *ngIf="sensor.sensorType!='Pantalla'">
                            <span *ngIf="sensor.data[0] == null">Sin datos</span>
                            <span *ngIf="sensor.data[0] != null">{{ sensor.data[0].value}} {{ sensor.unit }}</span>

                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
            </nb-card-body>
        </nb-card>
    </nb-card>
</div>

